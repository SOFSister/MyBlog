(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{881:function(t,_,v){"use strict";v.r(_);var e=v(12),s=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"_8-单元测试"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_8-单元测试"}},[t._v("#")]),t._v(" 8.单元测试")]),t._v(" "),v("h3",{attrs:{id:"_8-1基本介绍"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_8-1基本介绍"}},[t._v("#")]),t._v(" 8.1基本介绍")]),t._v(" "),v("p",[t._v("Go语言中自带有一个轻量级的测试框架testing和自带的go test命令来实现单元测试和性能测试，testing框架和其他语言中的测试框架类似，可以基于这个框架写针对相应函数的测试用例，也可以基于该框架写相应的压力测试用例。通过单元测试，可以解决如下问题:")]),t._v(" "),v("ol",[v("li",[t._v("确保每个函数是可运行，并且运行结果是正确的")]),t._v(" "),v("li",[t._v("确保写出来的代码性能是好的")]),t._v(" "),v("li",[t._v("单元测试能及时的发现程序设计或实现的逻辑错误，使问题及早暴露，便于问题的定位解决，而性能测试的重点在于发现程序设计上的一些问题，让程序能够在高并发的情况下还能保持稳定")])]),t._v(" "),v("h3",{attrs:{id:"_8-2注意点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_8-2注意点"}},[t._v("#")]),t._v(" 8.2注意点")]),t._v(" "),v("ol",[v("li",[v("p",[t._v("测试用例文件名必须以_test.go 结尾。比如cal_test.go , cal不是固定的。")])]),t._v(" "),v("li",[v("p",[t._v("测试用例函数必须以Test开头，一般来说就是Test+被测试的函数名，比如TestAddUpper")])]),t._v(" "),v("li",[v("p",[t._v("TestAddUpper(t * tesing.T)的形参类型必须是*testing.T")])]),t._v(" "),v("li",[v("p",[t._v("一个测试用例文件中，可以有多个测试用例函数，比如‘TestAddUpper、TestSub")])]),t._v(" "),v("li",[v("p",[t._v("运行测试用例指令")]),t._v(" "),v("p",[t._v("(1) cmd>go test[如果运行正确，无日志，错误时，会输出日志]")]),t._v(" "),v("p",[t._v("(2) cmd>go test -v[运行正确或是错误，都输出日志]")])]),t._v(" "),v("li",[v("p",[t._v("当出现错误时，可以使用t.Fatalf来格式化输出错误信息，并退出程序")])]),t._v(" "),v("li",[v("p",[t._v("t.Logf方法可以输出相应的日志")])]),t._v(" "),v("li",[v("p",[t._v("测试用例函数，并没有放在main函数中，也执行了，这就是测试用例的方便之处.")])]),t._v(" "),v("li",[v("p",[t._v("PASS表示测试用例运行成功，FAIL表示测试用例运行失败")])]),t._v(" "),v("li",[v("p",[t._v("测试单个文件，一定要带上被测试的原文件")]),t._v(" "),v("p",[t._v("go test -v cal_test.go cal.go")])]),t._v(" "),v("li",[v("p",[t._v("测试单个方法")]),t._v(" "),v("p",[t._v("go test -v -test.run TestAddUpper")])])])])}),[],!1,null,null,null);_.default=s.exports}}]);